/**
 * @license
 * Copyright (c) 2023 The Nuevodevel Team. All rights reserved.
 * Offline plugin for video.js v 8.*
 * Version 2.4.0
 */
try{videojs.options.vhs.maxPlaylistRetries=1}catch(e){var oe=!0}try{videojs.options.errorDisplay=!1}catch(e){oe=!0}!function(e,o){"function"==typeof define&&define.amd?define([],o.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=o(e,e.videojs):o(e,e.videojs)}(window,function(e,o){"use strict";e.videojs_offline={version:"2.0"},o.registerPlugin("offline",function(e){this.ready(function(){!function(e,t){var n;(t=o.obj.merge({offlineImage:"",offlineTimeout:30,liveSource:"",offlineCountdown:!1,liveStream:"",clock:0,label:"restart",loadTimeout:0},t||{})).label=(n=t.label).charAt(0).toUpperCase()+n.slice(1),e.on("ready",function(){var n,i,l=o.dom,r=e.el(),f=null,s=null,a=function(e,o){try{return e.querySelector(o)}catch(e){return!1}};if(""!=t.offlineImage){var c=a(r,".vjs-error-display");c&&l.addClass(c,"vjs-abs-hidden"),(f=document.createElement("div")).className="vjs-poster",f.setAttribute("style",'top:100%;z-index:15999;opacity:1!important;pointer-events:"none";background-color:#000;'),r.appendChild(f),f.style.backgroundImage="url("+t.offlineImage+")",f.style.height=0,t.loadTimeout>0&&e.one("play",function(){i=setTimeout(function(){e.isOffline=!0,d()},t.loadTimeout)}),e.on("error",function(){if(!e.isOffline){var o=e.error();1!=o.code&&2!=o.code&&4!=o.code&&3!=o.code&&-2!=o.code||(e.isOffline=!0,d())}}),setInterval(function(){if(!e.isOffline){var o=r.className;o.indexOf("vjs-has-started")>-1&&o.indexOf("vjs-ended")>-1&&(e.isOffline=!0,d())}},500),e.on("playing",function(){f.style.height=0,f.style.display="none",e.isOffline=!1,!0!==o.browser.IS_IOS&&e.muted(!1),clearTimeout(n),clearTimeout(i);try{r.removeChild(s)}catch(e){}s=null})}function d(){var o=a(r,".vjs-loading-spinner");l.addClass(o,"vjs-abs-hidden"),t.clock=0,f.setAttribute("style",f.getAttribute("style")+";top:0;height:100%;display:block!important"),t.offlineCountdown&&null==s&&((s=document.createElement("div")).setAttribute("style","position:absolute;right:30px;bottom:25px;font-size:20px;color:#fff;font-family:sans-serif,Arial;text-shadow:1px 1px 1px #000;z-Index:16000"),r.appendChild(s)),t.offlineCountdown&&null!=s&&(s.innerHTML=t.label+" "+u(t.offlineTimeout)),t.clock=0,function o(){clearTimeout(n),n=setTimeout(function(){var n;t.clock++,t.offlineCountdown&&s&&(s.innerHTML=t.label+" "+u(t.offlineTimeout-t.clock)),t.clock>=t.offlineTimeout&&(t.clock=0,e.trigger("offlineLoop"),t.liveStream,void 0!==(n=e.play())&&n.then(function(){return!0}).catch(function(o){e.muted(!0),e.play()})),o()},1e3)}()}function u(e){var o=parseInt(e,10),t=Math.floor(o/60)%60,n=o%60,i="";return i=t>0?t>9?t+":":"0"+t+":":"0:",n>0?i+=n>9?n:"0"+n:i="0:00",i}})}(this,e)})})});