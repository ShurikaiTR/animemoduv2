!function(e,t){if("undefined"!=typeof window&&window.videojs)t(window.videojs);else if("function"==typeof define&&define.amd)define("vroll",["video.js"],function(e){return t(e.default||e)});else if("undefined"!=typeof module&&module.exports){var n=require("video.js");module.exports=t(n.default||n)}}(0,function(e){function t(t,n,r){"use strict";var o=null,i=[],l=null,a=!1,s=!1,d=!0,f=!1,c=!1,u=!1,p=!1,v=!1,h="undefined",m=-1,g=0,b=t.$(".vjs-tech");e.isAd=!1;var y,x=e.dom,k=t.el(),j=e.browser,T=null,C=null,w=[],_=null,S=null,A=null,I=null;function M(e){return"[object Array]"===Object.prototype.toString.call(e)}e.vrollplugin=!0,r&&(r.trackUrl&&(o=r.trackUrl),S=r);var N=function(e,t){var n=document.createElement(e);return void 0!==t&&""!==t&&(n.className=t),n},q=function(e){return t.localize(e)};function L(){return t.duration()===1/0||"8"===j.IOS_VERSION&&0===t.duration()}function P(e){let n=document.createElement("div");n.className="vroll-btn",e.buttonBackground&&(n.style.backgroundColor=e.buttonBackground),e.buttonColor&&(n.style.color=e.buttonColor);let r="Visit now";e.buttonText&&(r=e.buttonText);let o="";o=e.buttonIcon?'<span class="vst"><img src="'+e.buttonIcon+'"/>'+r:'<span class="vst vst-cnt">'+r;let i=e.href.replace(/^https?:\/\//,"");i=i.replace("//",""),o+='</span><span class="lnk">'+function(e,t){if(e.length<=t)return e;return e.slice(0,t)+"..."}(i,30)+"</span>",n.innerHTML=o,t.el_.appendChild(n),n.onclick=function(){let n="_blank";e.target&&"_self"==e.target&&(n="_self"),t.pause(),window.open(e.href,n),e.id&&(t.trigger("vroll",{id:e.id,action:"clicked"}),track("click"))}}t.one("playing",function(){t.posterImage.hide()});var E=!0;let H=".vroll-btn{cursor:pointer;position:absolute;color:#fff;font-weight:normal;text-transform:none;letter-spacing:normal;left:15px;bottom:60px;background:#065fd4;-webkit-border-radius:10px;border-radius:10px;padding:10px 15px}";H+=".vroll-btn .vst{pointer-events:none;display:block;font-size:18px;text-align:right}.vroll-btn .vst img{float:left;max-height:25px;margin-right:8px}.vst-cnt{text-align:center}",H+=".vroll-btn .lnk{pointer-events:none;display:block;clear:both;opacity:.7;font-size:12px;text-decoration:none;text-align:right}";let z=document.createElement("style");if(z.innerHTML=".vroll-btn{cursor:pointer;position:absolute;color:#fff;font-weight:normal;text-transform:none;letter-spacing:normal;left:15px;bottom:60px;background:#065fd4;-webkit-border-radius:10px;border-radius:10px;padding:10px 15px}.vroll-btn .vst{pointer-events:none;display:block;font-size:18px;text-align:right}.vroll-btn .vst img{float:left;max-height:25px;margin-right:8px}.vst-cnt{text-align:center}.vroll-btn .lnk{pointer-events:none;display:block;clear:both;opacity:.7;font-size:12px;text-decoration:none;text-align:right}",t.el_.insertBefore(z,t.controlBar.el()),!M(n)){var B=n;if(B.src&&B.src.length>5){if(B.offset)B.offset.indexOf("%")>-1&&L()&&(E=!1);else B.offset=0;E&&((n=[])[0]=B)}}if(M(n))for(var O=0;O<n.length;O++){var $=n[O];$.offset||($.offset=0),$.src&&"undefined"!==$.offset&&($.loaded=!1,i.push($))}function V(){return t.el_.className.indexOf("vjs-casting")>0}t.ready(function(){t.vroll.reset=function(){for(var e=0;e<i.length;e++)i[e].loaded=!1;i.length>0&&i.length<2&&(i=i[0]),t.vroll(i,S),t.play()},t.one("playing",function(){t.mediaStarted=!0}),t.vroll.request=function(e){i=[],t.vroll(e),t.play()},A=t.el_.querySelector(".vjs-loading-spinner");var n=t.el_.querySelector(".vjs-big-play-button");if(C=t.el_.querySelector(".vjs-replay-button"),i.length>0){l=t.el_.querySelector(".vast-blocker"),l=N("div","vast-blocker vjs-hidden"),t.el_.insertBefore(l,t.controlBar.el_.nextSibling);const j=function(e){if(I)return I;e.el().querySelector(".vjs-tech");const t=e.textTracks?e.textTracks():[],n=[],r={ended:e.ended(),src:e.currentSrc(),currentTime:e.currentTime(),duration:e.duration(),currentSource:e.currentSource(),type:e.currentType(),playing:!e.paused(),live:!1,suppressedTracks:[]};r.duration&&r.duration-r.currentTime<1&&(r.ended=!0),r.ended&&(r.currentTime=e.duration()+1);for(let o=0;o<t.length;o++){const e=t[o];n.push({track:e,mode:e.mode}),e.mode="disabled"}return r.suppressedTracks=n,e.seekable().length>0&&L()&&(r.live=!0,r.currentTime=e.currentTime()-e.seekable().end(0)),r};function E(e){var t=e.textTracks?e.textTracks():[];if(M(t)||(t=[]),t.length>0){var n=[];t.forEach(function(e){n.push({track:e,mode:e.mode}),e.mode="disabled"})}return n}const H=function(t){t.snapshot=null;let n=I;t.snapshot=n;let r=t.el_.querySelector(".vroll-btn");if(r&&r.parentNode.removeChild(r),t.src()!==n.src){var o=t.el().querySelector(".vjs-tech");if(!o.hasAttribute("outstream")){var i,l=20;if("style"in I&&o.setAttribute("style",n.style||""),t.src(n.currentSource),n.ended)return t.currentTime(n.duration),void t.trigger("ended");t.one("playing",function(){var e,r=t.textTracks?t.textTracks():[];if(r.length>0)for(var o=0;o<r.length;o++){var i=r[o];e=n.suppressedTracks[o],i.mode=e.mode}}),t.one("canplay",function n(){var r=t.$(".vjs-tech");if(!function(e){if(e.readyState()>1)return!0;if(void 0===e.seekable()||e.seekable().length>0)return!0;return!1}(t)&&l--)setTimeout(n,50);else{if(t.snapshot.live)t.seekable().length>0?t.currentTime(t.seekable().end(0)+t.snapshot.currentTime):t.currentTime(t.snapshot.currentTime),t.play();else if(t.snapshot.ended)t.currentTime(t.snapshot.duration);else{t.currentTime(t.snapshot.currentTime);var o=t.play();o&&o.catch&&o.catch(function(t){e.log.warn("Play promise rejected in snapshot restore",t)})}r.setAttribute("style",I.style||"")}}),i=setTimeout(function(){t.trigger("canplay")},1e3),t.one("canplay",function(){clearTimeout(i)})}}else t.play()};for(var r=0;r<i.length;r++)i[r].offset||(i[0].offset=0);function z(){if(t.isOffline)p=!1;else if(!p){if(p=!0,t.$(".vjs-tech").hasAttribute("outstream")&&!b.hasAttribute("outstreamvisit")&&t.el_.classList.add("vjs-set-replay"),!0!==L())t.duration();if(i.length>0&&!0!==u){if(t.isPreroll&&b.hasAttribute("outstreamvisit")){var r=document.createElement("style"),S=".video-js .vjs-tech{opacity:1!important}";S+=".vjs-visit-blocker{background:rgba(0, 0, 0, .77);bottom:auto;right:10px!important;left:auto!important;top:10px!important;display:table!important;width:auto!important;height:auto!important;color:#fff!important;padding:4px 6px!important;border-radius:8px;border:solid 2px rgba(255, 255, 255, .8)!important}",S+=".vjs-visit-blocker:hover{border:solid 2px rgba(255, 255, 255, 1)!important}",S+=".vjs-visit-block{position:absolute;transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);top:45%;left:50%;text-align:center;color:#fff}",S+=".btn-visit{cursor:pointer;font-size:16px;text-transform:uppercase;background:#383838;display:table;margin-bottom:10px;-webkit-border-radius:50%;border-radius:50%;width:60px;height:60px;line-height:60px;}",S+=".btn-visit:hover{background:#484848}",S+=".btn-visit-replay{cursor:pointer;display:table;padding:4px 6px;margin:0 auto;border:solid 1px #999}",S+=".video-js .vjs-bg-bar{height:0!important}",r.textContent=S,t.el_.insertBefore(r,b)}u=!0;for(var M=0;M<i.length;M++)i[M].method="","100%"!=i[M].offset&&"end"!==i[M].offset||(i[M].method="postroll",i[M].offset="end",w.push(i[M]))}if(i.length>0){function Z(){if(!t.el_.classList.contains("vjs-ad-playing")){i[i.length-1].loaded&&t.off("timeupdate",Z);var n=e.dom.hasClass(k,"vjs-has-started");L();n&&!0!==f&&!0!==t.isOffline&&K(t.currentTime())}}function F(){x.addClass(C,"vjs-hidden")}function Q(e){if(t.$(".vjs-tech").hasAttribute("outstreamvisit"))X();else if(f)Y();else{if(a)return t.trigger("vroll",{id:h.id,action:"completed"}),ne("completed"),void Y();if(null!==w){I||(I=j(t)),A.setAttribute("style","display:none !important");for(var n=0;n<w.length;n++)if(!0!==w[n].loaded)return t.trigger("vroll",{id:h.id,action:"completed"}),ne("completed"),I||(I=j(t)),void U()}t.trigger("vroll",{id:h.id,action:"completed"}),ne("completed"),D(!0),t.off("ended",Q),Y(),R()}}function R(){t.playlist&&t.playlist.length>0&&(t.pause(),t.playlist.next(!0))}function U(){for(var e=0;e<w.length;e++)if(!0!==w[e].loaded)return w[e].loaded=!0,void G(w[e]);D(),H(t)}function D(n){t.off("timeupdate",ae),t.off("error",le),l.className="vast-blocker vjs-hidden",a=!1,c=!1,f=!1,re(".vast-skip-button"),setTimeout(function(){A.removeAttribute("style")},200),x.addClass(k,"vjs-has-started"),b.poster="",x.removeClass(k,"vjs-ad-playing"),e.isAd=!1}function G(n){n.loaded=!0,h=n,f=!0,e.isAd=!0,x.addClass(k,"vjs-ad-playing"),c=!0,t.on("error",le);var r={src:n.src,type:n.type};t.src(r),A.setAttribute("style","display:none !important"),setTimeout(function(){t.play()},100),t.one("playing",function(){se()})}function J(e,n){if(f=!0,a=!0,e.loaded=!0,t.adhref=null,V())return;h=e,c=!0,s=!1,d=!0;var r={src:e.src,type:e.type};let o=e.offset,l=[];for(let t=0;t<i.length;t++)o===i[t].offset&&l.push(i[t]);l.length>1&&e!==l[l.length-1]&&(d=!1),I||(I=j(t)),A.setAttribute("style","display:none !important"),t.src(r),t.on("error",le),setTimeout(function(){t.play(),t.one("playing",function(){se()})},10)}function K(e){var n=e;if(!f)for(var r=0;r<i.length;r++){var o=i[r];if(o.offset||(o.offset=0),"string"==typeof o.offset&&o.offset.indexOf("%")>0&&t.duration()){let e=parseInt($.offset);i[r].offset=e/100*t.duration()}if(L()&&i[r].offset>0)return;n>=i[r].offset&&!0!==a&&!0!==i[r].loaded&&(!0!==V()?J(o):i[r].loaded=!0)}}function W(){t.isPreroll&&(i[0].cancelled=!0,re(".vast-skip-button"),_=null,m=-1,t.off("play",se),i[0].loaded=!0,t.isPreroll=!1,x.addClass(k,"vjs-has-started"),x.removeClass(k,"vjs-ad-playing"),t.off("timeupdate",ae),t.off("error",le),H(t),I=null)}t.one("play",function(){0==i[0].offset&&!0!==i[0].loaded&&K(0)}),t.on("timeupdate",Z),t.on("ended",Q),t.one("play",F),t.isPreroll&&(!0!==v&&(v=!0,g=t.volume(),t.volume(0)),L()),t.on("chromecastConnected",function(){W()});function X(){re(".vast-skip-button"),_=null,m=-1;var e=l.href;t.isPreroll=!1;var n=[];if(n.push(i[0]),n[0].loaded=!1,i=n,!t.el_.querySelector(".btn-visit")){var r=document.createElement("div");t.el().appendChild(r);var o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div");r.className="vjs-overlay",o.class="vjs-block",o.className="vjs-visit-block",a.className="btn-visit",s.className="btn-visit-replay",r.appendChild(o),a.innerHTML="VISIT",s.innerHTML="Replay",o.appendChild(a),o.appendChild(s),a.onclick=function(){window.open(e,"_blank")},s.onclick=function(){t.currentTime(0),t.play(),t.el().removeChild(r)}}}function Y(){if(re(".vast-skip-button"),_=null,m=-1,t.$(".vjs-tech").hasAttribute("outstreamvisit"))return X(),void t.trigger("ended");if(t.$(".vjs-tech").hasAttribute("outstream"))return i=[],_=null,m=-1,t.off("play",se),t.isPreroll=!1,t.off("error",le),t.off("timeupdate",ae),t.off("ended",Q),t.el_.classList.add("vjs-set-replay"),t.pause(),t.trigger("ended"),t.currentTime(0),t.el_.classList.add("vjs-ad-playing"),void t.pause();var n=h.offset;h.loaded=!0,t.isPreroll=!1;var r=!1;x.addClass(k,"vjs-has-started");for(var o=0;o<i.length;o++){i[o].offset;i[o].offset||(i[o].offset=0);let l=i[o].offset;if("string"==typeof l&&l.indexOf("%")>0&&t.duration()&&(l=parseInt(i[o].offset)/100,i[o].offset=parseInt(l*t.duration())),L()&&i[o].offset>0)return;if(i[o].offset||(i[o].offset=0),i[o].offset===n&&!0!==i[o].loaded){t.off("timeupdate",ae),t.off("error",le),a=!0,f=!0,i[o].loaded=!0,e.isAd=!0,x.addClass(k,"vjs-ad-playing"),c=!0,J(i[o]),r=!0;break}}if(!0!==r){for(o=0;o<i.length;o++)!0!==i[o].loaded&&!1;t.off("timeupdate",ae),t.off("error",le),D(),H(t),I=null}}var z,B,O=!1;function ee(e){e=t.currentTime();var n=t.duration();if(n>0){var r=((n=n.toFixed(0))/4).toFixed(0);if(e>r&&!0!==z&&(ne("fistQuartile"),z=!0),e>2*r&&!0!==B&&(ne("midpoint"),B=!0),e>3*r&&!0!==O&&(ne("thirdQuartile"),O=!0),m>-1){var o=Math.ceil(m-e);if(x.removeClass(_,"vjs-hidden"),o>0){var i=q("Skip Ad in %%TIME%%");_.innerHTML="";var l=N("p","vast-skip-button-text");_.appendChild(l),l.innerHTML=i.replace("%%TIME%%",o)}else _.className="vast-skip-button enabled",_.innerHTML=q("Skip Ad")+'<span class="vjs-vast-skip-icon"><svg viewBox="0 0 32 32"><path d="M7 24l12.75-9-12.75-9v18zM22 6v18h3v-18h-3z"></path></svg></span>'}}}function te(){if(e.adinfo){var n=t.el_.querySelector(".vjs-ainfo");if(!n){let i=N("style"),l=".vjs-ad-playing .vjs-ainfo{position: absolute;top:10px;left:10px;display:inline-block;opacity:.8;cursor:pointer;height:18px;}";l+=".vjs-ad-playing .vjs-ainfo .vjs-ico-block {height:18px;width:18px;display:inline-block;float:left;filter:drop-shadow(1px 1px 1px #000);}",l+=".vjs-ad-playing .vjs-ainfo .vjs-label {line-height:18px;float:left;height:18px;transition:all .25s ease;filter:drop-shadow(1px 1px 1px #000);margin-left:5px;max-width:0;font-size:13px;overflow:hidden;display:inline-block;margin-right:5px;}",l+=".vjs-ad-playing .vjs-ainfo:hover .vjs-label {max-width:200px}.vjs-ad-playing .vjs-ainfo-right {right:10px;left:auto;top:auto;bottom:15px}.vjs-ad-playing .vjs-ainfo-right .vjs-ico-block {float:right}",i.innerHTML=l,t.el_.appendChild(i),n=N("div","vjs-ainfo");var r=N("div","vjs-ico-block");r.innerHTML='<svg fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" fill="white" d="M2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12ZM13 16V18H11V16H13ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM8 10C8 7.79 9.79 6 12 6C14.21 6 16 7.79 16 10C16 11.28 15.21 11.97 14.44 12.64C13.71 13.28 13 13.90 13 15H11C11 13.17 11.94 12.45 12.77 11.82C13.42 11.32 14 10.87 14 10C14 8.9 13.1 8 12 8C10.9 8 10 8.9 10 10H8Z"></path></svg>';var o=N("div","vjs-label");o.innerHTML=t.localize("Information"),n.appendChild(r),n.appendChild(o),t.el_.appendChild(n),t.$(".vjs-tech").hasAttribute("outstreamvisit")&&n.classList.add("vjs-ainfo-right"),n.onclick=n=>{t.pause(),window.open(e.adinfo,"_blank")}}}}function ne(e,t){if(o){var n=new Image,r="?event="+e;h.id&&(r=r+"&id="+h.id),n.src=o+r}}function re(e){var n=t.el_.querySelectorAll(e);if(n)for(var r=0;r<n.length;r++)n[r].parentNode.removeChild(n[r])}function oe(){re(".vast-skip-button"),(_=N("div","vast-skip-button vjs-hidden")).id="adSkipButton",_.ariaDisabled="false",_.tabIndex="0",y=N("p","vast-skip-button-text"),_.appendChild(y),t.el_.appendChild(_),_.onclick=function(e){!function(e){e.stopPropagation(),(" "+_.className+" ").indexOf(" enabled ")>=0&&(t.trigger("vroll",{id:h.id,action:"skipped"}),ne("skipped"),"postroll"===h.method?U():Y())}(e)}}function ie(){}function le(){t.trigger("vroll",{id:h.id,action:"error"}),ne("error");var e=t.el_.querySelector(".vjs-black-poster");e&&e.parentNode.remove(e),!0!==d&&(s=!0),"postroll"===h.method?U():Y(),c=!1}function ae(){t.paused()||ee(t.currentTime(),t.duration())}function se(){if(s)return;if(f=!0,setTimeout(function(){try{E(t)}catch(e){}},100),V())return;if(h.cancelled)return;t.$(".vjs-tech").hasAttribute("outstreamvisit")&&t.el_.classList.add("vjs-set-visit"),te();let e=t.muted();t.muted(e);let r=k.querySelector(".vjs-black-poster");r&&r.parentNode.removeChild(r),t.currentTime(0),t.one("ended",ie),t.on("timeupdate",ae),h.offset>0&&x.addClass(n,"vjs-hidden"),(m=parseInt(h.skip,10))>-1&&oe(),x.addClass(k,"vjs-ad-playing"),x.addClass(n,"vjs-hidden");var o=t.el_.querySelector(".vjs-black-poster");if(o&&(t.el_.removeChild(o),T=null),g&&t.volume(g),l.className="vast-blocker",h.href){let e=t.el_.querySelector(".vroll-btn");if(e&&e.parentNode.removeChild(e),t.$(".vjs-tech").hasAttribute("outstreamvisit")&&(l.className="vast-blocker vjs-visit-blocker",l.innerText=t.localize("VISIT")),"button"==h.clickthrough){l.style.pointerEvents="none";P(h)}else{l.removeAttribute("style");let e="_blank";h.target&&"_self"==h.target&&(e="_self"),l.onclick=function(){console.log("open"),t.pause(),h.id&&(t.trigger("vroll",{id:h.id,action:"clicked"}),ne("click")),window.open(h.href,e)}}}else l.style.pointerEvents="none";c&&(t.trigger("vroll",{id:h.id,action:"start"}),ne("adstart"),c=!1)}}}}0===parseInt(i[0].offset,10)&&(t.offline?t.isPreroll=!1:(t.isPreroll=!0,!0!==v&&(v=!0,g=t.volume()),t.one("play",function(){if(t.isPreroll){var e=t.el_.querySelector(".vjs-poster");(T=N("div","vjs-black-poster"))||k.insertBefore(T,e),t.isPreroll=!1}}))),z()}})}((e=e&&e.hasOwnProperty("default")?e.default:e).registerPlugin||e.plugin)("vroll",function(e,n){this.ready(function(){t(this,e,n)})})});