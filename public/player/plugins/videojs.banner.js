/**
 * Copyright (c) 2025 The Nuevodevel Team. All rights reserved.
 * Banner on Pause Plugin
 * Version 1.0.0
 */
!function(n){var e;"undefined"!=typeof window&&window.videojs?n(window.videojs):"function"==typeof define&&define.amd?define("banner",["video.js"],function(e){return n(e.default||e)}):"undefined"!=typeof module&&module.exports&&(e=require("video.js"),module.exports=n(e.default||e))}(function(d){((d=d&&d.hasOwnProperty("default")?d.default:d).registerPlugin||d.plugin)("banner",function(e){this.ready(()=>{var i=this,a=e,n={src:"",href:"",id:void 0,target:"_blank",resumeText:"Resume",closeButton:!1,trackViews:void 0,trackClickthrough:void 0,trackClose:void 0,position:"center"};try{a=d.obj.merge(n,a||{})}catch(e){a=d.mergeOptions(n,a||{})}var r={width:0,height:0},s=!1,o=!0,l=null;if(btnResume=null,bannerDiv=null,bannerClose=null,bannerSize=null,""!==a.src&&""!==a.href){let t=i.el_.querySelector(".nvp-banner");t&&(i.el_.removeChild(t),o=!(s=!1)),(l=document.createElement("img")).src=a.src,l.onload=function(e){var n;t||((n=document.createElement("style")).innerHTML=".nvp-hidden{display:none}.nvp-banner .nvp-close svg{width:28px;height:28px;fill:#fff;-webkit-filter:drop-shadow(0px 0px 4px #000);filter:drop-shadow(0px 0px 4px #000)}.nvp-banner .nvp-close{width:28px;height:28px;position:absolute;top:5px;right:5px;cursor:pointer;background:transparent;margin:0;padding:0}.banner-nvh{max-height:calc(90%);width:auto}.nvp-banner img{max-height:calc(100% - 55px);display:table;margin:0 auto;width:auto;cursor:pointer;border:0}.nvp-banner{height:85%;text-align:center;z-index:99;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%;background:transparent}.vjs-ad-playing .nvp-banner{display:none!important}.nvp-banner .resum{cursor:pointer;display:inline-block;margin-top:15px;text-align:center;color:#fff;padding:5px 8px;background-color:#000;webkit-border-radius:5px;border-radius:5px;-wbkit-transition:border .3s ease;transition:border .3s ease;border:solid 2px transparent}.nvp-banner .resum:hover{border:solid 2px #CCC}.banner-nvw{width:90%;height:auto}.banner-nvw img{max-width:100%;width:100%;max-height:calc(100% - 90px);}.nvp-bottom{bottom:20px;top:auto;-webkit-transform:translate(-50%,0%);transform:translate(-50%,0%)}.nvp-top{top:20px;bottom:auto;-webkit-transform:translate(-50%,0%);transform:translate(-50%,0%)}",i.el_.appendChild(n)),i.bannerDiv=document.createElement("div"),tm=Math.random(),i.bannerDiv.id=tm,r.width=this.width,r.height=this.height,bannerSize=(t?i.bannerDiv.className="nvp-banner":i.bannerDiv.className="nvp-banner nvp-hidden","height"),!0!==i.paused&&(i.bannerDiv.className="nvp-banner nvp-hidden"),o=!(s=!1),this.width>=this.height?(i.bannerDiv.classList.add("banner-nvw"),i.bannerDiv.style.maxWidth=r.width+"px"):i.bannerDiv.classList.add("banner-nvh"),"top"===a.position&&i.bannerDiv.classList.add("nvp-top"),"bottom"===a.position&&i.bannerDiv.classList.add("nvp-bottom"),s=!0,i.bannerDiv.appendChild(l),(btnResume=document.createElement("span")).className="resum",btnResume.innerHTML='<span class="vjs-svg-icon" style="display:inline-flex;" aria-hidden="true"><svg viewBox="0 0 32 32"><use xlink:href="#vjs-icon-play" href="#vjs-icon-play"></use></svg></span>'+a.resumeText,i.bannerDiv.appendChild(btnResume),i.el_.appendChild(i.bannerDiv),l.onclick=function(){let e="_blank";"_self"==a.target&&(e="_self"),window.open(a.href,e),a.id&&a.trackClick&&((new Image).src=a.trackClick+"id="+a.id)},btnResume.addEventListener("click",function(){i.play()}),a.closeButton&&((n=document.createElement("div")).className="nvp-close",n.innerHTML='<svg fill="#000000" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 32 32" xml:space="preserve"><style type="text/css">.st0{opacity:0;}.st1{fill:none;}</style><path d="M16,2C8.2,2,2,8.2,2,16s6.2,14,14,14s14-6.2,14-14S23.8,2,16,2z M21.4,23L16,17.6L10.6,23L9,21.4l5.4-5.4L9,10.6L10.6,9,l5.4,5.4L21.4,9l1.6,1.6L17.6,16l5.4,5.4L21.4,23z"></path><polyline id="inner-path" class="st0" points="14.4,16 9,10.6 10.6,9 16,14.4 21.4,9 23,10.6 17.6,16 23,21.4 21.4,23 16,17.6 ,10.6,23 9,21.4 14.4,16 " style="fill: #000;opacity: 1;"></polyline><rect id="_Transparent_Rectangle_" class="st1" width="32" height="32"></rect></svg>',i.bannerDiv.appendChild(n),n.addEventListener("click",function(){a.id&&a.trackClose&&((new Image).src=a.trackClose+"id="+a.id),i.el_.removeChild(i.bannerDiv),i.bannerDiv=null,i.play()}))}}function t(){var e;i.bannerDiv&&(e=i.bannerDiv.offsetHeight-10,i.el_.offsetHeight,0<e)&&(e>i.el_.offsetHeight?(i.bannerDiv.style.opacity="0",i.bannerDiv.style.pointerEvents="none"):(i.bannerDiv.style.opacity="1",i.bannerDiv.style.pointerEvents="auto"))}i.on("playerresize",()=>{t()}),i.on("seeking",function(){i.bannerDiv&&s&&i.bannerDiv.classList.add("nvp-hidden")}),i.on("playing",function(){o=!0,i.$(".vjs-tech").style.opacity=1,i.bannerDiv&&s&&i.bannerDiv.classList.add("nvp-hidden");var e=i.el_.querySelector(".vjs-cog-button"),e=(e&&e.removeAttribute("disabled",!0),i.el_.querySelector(".vjs-quality-button")),e=(e&&(e.style.pointerEvents="auto"),i.el_.querySelector(".vjs-chapters-button"));e&&e.removeAttribute("disabled",!0)}),i.on("pause",function(){o&&i.bannerDiv&&s&&setTimeout(()=>{var e=i.el_;return!(e.querySelector(".vjs-tech-chromecast")||e.classList.contains("vjs-ad-playing")||e.classList.contains("vjs-dai")||(e=i.el_.querySelector(".vjs-sharing-overlay"))&&!e.classList.contains("vjs-hidden")||(e=i.el_.querySelector(".vjs-grid"))&&!e.classList.contains("vjs-hidden")||(e=i.el_.querySelector(".vjs-filters"))&&!e.classList.contains("vjs-hidden")||(e=i.el_.querySelector(".vjs-limit-overlay"))&&!e.classList.contains("vjs-hidden"))&&((e=i.el_.querySelector(".vjs-cog-button"))&&e.setAttribute("disabled",!0),(e=i.el_.querySelector(".vjs-quality-button"))&&(e.style.pointerEvents="none"),(e=i.el_.querySelector(".vjs-chapters-button"))&&e.setAttribute("disabled",!0),i.bannerDiv.classList.remove("nvp-hidden"),i.bannerDiv.style.opacity=1,i.bannerDiv.style.pointerEvents="auto",t(),i.$(".vjs-tech").style.opacity=.5,void(a.id&&a.trackViews&&((new Image).src=a.trackViews+"id="+a.id)))},0)})})})});
